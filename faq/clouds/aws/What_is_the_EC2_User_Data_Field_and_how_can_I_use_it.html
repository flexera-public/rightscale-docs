<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>What is the EC2 User Data field and how can I use it?</title><meta content="RightScale automatically passes the following basic information as a single string of user data when launching an Amazon Web Services (AWS) EC2 server instance from the Dashboard." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../../js/main.js"></script></head><body class="faq faq_clouds faq_clouds_aws faq_clouds_aws_What_is_the_EC2_User_Data_Field_and_how_can_I_use_it" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/faq/"><h4 class="list-group-heading"><span>Frequently Asked Questions</span></h4></a><a class="list-group-item" href="/faq/">General</a><a class="list-group-item" href="/faq/clouds/aws">AWS</a><a class="list-group-item" href="/faq/clouds/google">Google Cloud Platform</a><a class="list-group-item" href="/faq/clouds/azure">Microsoft Azure</a><a class="list-group-item" href="/faq/clouds/softlayer">SoftLayer</a><a class="list-group-item" href="/faq/clouds/vmware">VMware</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../../">Flexera CMP Docs</a> &#x2F; <a href="../../">RightScale General FAQs</a> &#x2F; <a href="../">Cloud Providers</a> &#x2F; <a href="./">Amazon Web Services</a></p><div class="page-header"><h1>What is the EC2 User Data field and how can I use it?</h1></div><div class="main-content"><h2 id="background-information">Background Information</h2>

<p>You need to understand how to use the EC2 User Data field in your server or array properties.</p>

<hr>

<h2 id="answer">Answer</h2>

<p>RightScale automatically passes the following basic information as a single string of user data when launching an Amazon Web Services (AWS) EC2 server instance from the Dashboard:</p>
<pre class="syntax-highlight plaintext"><code>RS_server=my.rightscale.com&amp; RS_EIP=174.129.123.46&amp; RS_api_url=https://my.rightscale.com/api/inst/ec2_instances/6ef2e6ef2e6ef2e6ef2e6ef2e&amp; RS_sketchy=sketchy1-3.rightscale.com&amp; RS_token=4ccd4ccd4ccd4ccd
</code></pre>

<p>In addition to the data that RightScale automatically passes to your EC2 server instance upon launch, you can choose to pass additional user data to your instance, using the EC2 User Data field in your server or array properties. Entering additional user data in this field is not common or typically recommended, since it is best to pass such data as input parameters via RightScripts or Chef recipes. However, this field is provided for special cases, such as when you are using an image that requires EC2 user data, or need to use EC2 user data for a specialized purpose.</p>

<p><strong>To pass additional user data to an EC2 server or array prior to launching it</strong></p>

<p>To pass additional user data to an <em>inactive</em> EC2 server or array (you cannot pass EC2 user data to a running instance), click the <strong>Edit</strong> button on the server or array&#39;s <strong>Info</strong> tab. On the Server Details screen, expand the Advanced Options section and, in the <q>EC2 User Data</q> field, enter additional user data as needed. <strong>Be sure to separate multiple parameter values using ampersands (&amp;), using the HTTP GET request syntax</strong>. (If you use commas instead of ampersands to separate values, your value list will be interpreted as one long text string.)</p>

<p><strong>Note</strong>: When viewing saved user data in the Dashboard, RightScale replaces the the ampersands with commas to improve readability.</p>

<p>RightScale passes the specified user data to the server or array instance(s) upon launch. There is a 16 KB maximum limit on the total amount of user data (including the basic data that RightScale automatically supplies) that can be passed for a server instance. When you provide additional user data, it is prepended to the RightScale default data above. So if you provided user data in the Dashboard as:</p>
<pre class="syntax-highlight plaintext"><code>MY_TEST=mycustomdatahere&amp; MY_TEST2=more of my custom data here
</code></pre>

<p>When the instance is launched, the user data passed will look like the following:</p>
<pre class="syntax-highlight plaintext"><code>MY_TEST=mycustomdatahere&amp; MY_TEST2=more of my custom data here&amp; RS_server=my.rightscale.com&amp; RS_EIP=174.129.251.168&amp; RS_api_url=https://my.rightscale.com/api/inst/ec2_instances/6ef2e6ef2e6ef2e6ef2e6ef2e&amp; RS_sketchy=sketchy1-8.rightscale.com&amp; RS_token=4ccd4ccd4ccd4ccd
</code></pre>

<p>RightScale will always be able to extract RightScale-specific values from the user data as long as you don&#39;t include RS_ in your data.</p>

<p>You can retrieve the user data on an instance as follows:</p>
<pre class="syntax-highlight plaintext"><code>curl http://169.254.169.254/
</code></pre>

<p>This returns a list of metadata versions:</p>
<pre class="syntax-highlight plaintext"><code>1.0
2007-01-19
2007-03-01
2007-08-29
2007-10-10
2007-12-15
2008-02-01
2008-09-01
2009-04-04
2011-01-01
2011-05-01
</code></pre>

<p>Then you can retrieve the data by fetching a specific version (latest is usually recommended)</p>
<pre class="syntax-highlight plaintext"><code>curl http://169.254.169.254/2008-02-01/user-data
</code></pre>

<h3 id="answer-external-links">External Links</h3>

<p><a href="http://docs.amazonwebservices.com/AWSEC2/latest/DeveloperGuide/index.html?AESDG-chapter-instancedata.html">Instance Metadata</a></p>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>