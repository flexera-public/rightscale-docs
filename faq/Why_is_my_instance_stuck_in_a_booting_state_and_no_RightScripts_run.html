<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Why is my instance stuck in a "booting" state and no RightScripts run?</title><meta content="Servers using images that contain these versions of RightLink need a special tag in order to notify our core that they contain a legacy deamon." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../js/main.js"></script></head><body class="faq faq_Why_is_my_instance_stuck_in_a_booting_state_and_no_RightScripts_run" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/faq/"><h4 class="list-group-heading"><span>Frequently Asked Questions</span></h4></a><a class="list-group-item" href="/faq/">General</a><a class="list-group-item" href="/faq/clouds/aws">AWS</a><a class="list-group-item" href="/faq/clouds/google">Google Cloud Platform</a><a class="list-group-item" href="/faq/clouds/azure">Microsoft Azure</a><a class="list-group-item" href="/faq/clouds/softlayer">SoftLayer</a><a class="list-group-item" href="/faq/clouds/vmware">VMware</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../">Flexera CMP Docs</a> &#x2F; <a href="./">RightScale General FAQs</a></p><div class="page-header"><h1>Why is my instance stuck in a "booting" state and no RightScripts run?</h1></div><div class="main-content"><h2 id="background-information">Background Information</h2>

<p>The instance is stuck in booting and does not process boot scripts or decommission scripts.</p>

<hr>

<h2 id="answer">Answer</h2>

<p>If you ssh into the instance and check /var/log/messages you might see something like this:</p>
<pre class="syntax-highlight plaintext"><code>Aug 22 12:48:00 ip-10-167-282-852 RightLink[2230]: [status] Broker b0 is now
ready, connected brokers: [b0, b1]
Aug 22 12:48:00 ip-10-167-282-852 RightLink[2230]: SEND b0 [request]
&lt;01fcf5b7c275ccb30d2cc1d12348fd43&gt; /booter/declare i-77ed2c30
Aug 22 12:48:00 ip-10-167-282-852 monit[2220]: 'instance' start action done
Aug 22 12:48:30 ip-10-167-282-852 RightLink[2230]: RESEND b0 [request]
&lt;cc7ad4dc83dba7f8d4480dc1b954aa44&gt; /booter/declare i-77ed2c30, tries
&lt;01fcf5b7c275ccb30d2cc1d12348fd43&gt;
Aug 22 12:48:30 ip-10-167-282-852 RightLink[2230]: SEND b0 [request]
&lt;d26c5dfbbfaf9f25a063a63fd0b6be75&gt; /mapper/ping
Aug 22 12:48:31 ip-10-167-282-852 RightLink[2230]: RECV b0 [result] (2,131
bytes) &lt;d26c5dfbbfaf9f25a063a63fd0b6be75&gt; success
Aug 22 12:50:30 ip-10-167-282-852 RightLink[2230]: RESEND b0 [request]
&lt;0ded6589e5b06dade327fcc78b2daf4g&gt; /booter/declare i-77ed2c30, tries
&lt;01fcf5b7c275ccb30d2cc1d12348fd43&gt;, &lt;cc7ad4dc83dba7f8d4480dc1b954aa44&gt;
</code></pre>

<p>This error indicates that you are using a v5.0 - v5.5.9 RightImage<sup>TM</sup>. Due to core architectural changes that were made long after these images were published, servers using images that contain these versions of RightLink need a special tag in order to notify our core that they contain a legacy deamon. We retroactively tagged MultiCloud Images that RightScale published with this tag, however if you cloned the MultiCloud Image it&#39;s likely that you&#39;ll have to manually update it. Simply add the following tag to the MultiCloud Image and relaunch the server: <strong><q>provides:rs_agent_ver=5</q>.</strong> Alternatively, you can use a MultiCloud Image that that is v5.6 or higher without this problem.</p>

<p>You may also see the following error:</p>
<pre class="syntax-highlight plaintext"><code>Data Fetching EC2 User-Data EIP test for settled No EIP, current IP=67.202.55.15 done...
Tuning runrightscripts for centos
Running boot RightScripts
Mon Nov 10 14:12:41 EST 2008
!!!!! ERROR PROCESSING RIGHTSCRIPTS:
!!!!! undefined method `unpack' for {}:Hash /usr/lib/ruby/1.8/base64.rb:59:in `decode64'
</code></pre>

<p>This error indicates that you are using a V3.0 or earlier RightImage<sup>TM</sup> that has an empty RightScript. Check any scripts that you have added and make sure that they have at least one line of code. This error does not occur in V3.1 or higher instances.</p>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>