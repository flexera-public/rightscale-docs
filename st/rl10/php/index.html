<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>PHP Application Server for Chef Server (RightLink 10)</title><meta content="This RightLink 10 ServerTemplate configures a dedicated PHP application server with Apache. It contains scripts and inputs that allow a PHP application server to connect to MySQL database servers and other resources." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../../js/main.js"></script></head><body class="st st_rl10 st_rl10_php st_rl10_php_index" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/st"><h4 class="list-group-heading"><img src="../../../img/product-cloud-management.svg" /><span>ServerTemplates</span></h4></a><a class="list-group-item" href="../../about.html">About</a><a class="list-group-item" href="/st/rl10">Version RL10</a><a class="list-group-item" href="../../open-source/">Open Source</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../../">Flexera CMP Docs</a> &#x2F; <a href="../../">ServerTemplates</a> &#x2F; <a href="../">Version RightLink 10 ServerTemplates</a></p><div class="page-header"><h1>PHP Application Server for Chef Server (RightLink 10)</h1></div><div class="main-content"><h2 id="overview">Overview</h2>

<p>Configures a dedicated PHP application server with Apache. The ServerTemplate contains scripts and inputs that allow a PHP application server to connect to MySQL database servers as well as allowing connections from load balancing server solutions such as Amazon&#39;s Elastic Load Balancing (ELB), or a server launched with RightScale&#39;s <strong>Load Balancer with HAProxy</strong> ServerTemplate. The ServerTemplate is one of the core ServerTemplates in a typical a three-tier website architecture.</p>

<div class="alert alert-info" role="alert"><strong>Note:</strong><p>This ServerTemplate requires a Chef Server with the required cookbooks (see below under Requirements) uploaded to the Chef Server to work.</p>
</div>

<div class="alert alert-info" role="alert"><strong>Note:</strong><p>For a complete list of the ServerTemplate&#39;s features and support, view the detailed description under its <b>Info</b> tab.</p>
</div>

<h2 id="requirements">Requirements</h2>

<ul>
<li><a href="/st/rl10/chef-server/overview.html">Chef Server</a> or Hosted Chef</li>
<li><a href="https://github.com/rightscale-cookbooks/rs-application_php">rs-application_php</a> (<a href="https://github.com/rightscale-cookbooks/rs-application_php/releases/tag/v2.0.1">2.0.1</a>)</li>
</ul>

<h2 id="software-application-versions">Software Application Versions</h2>

<ul>
<li>Apache</li>
<li>PHP</li>
<li>MySQL Client</li>
</ul>

<h2 id="technical-overview">Technical Overview</h2>

<p>The PHP App Server ServerTemplate install Apache with PHP on a single instance. The application code is downloaded from a git repository and placed into the webserver directory to be hosted. There are recipes to set up tags so the PHP App Server can be found by a Load Balancer and to request that a Load Balancer find it. The PHP App Server can be used in a RightScale autoscaling application server array. Below are descriptions of the various scripts available in the PHP App Server ServerTemplate.</p>

<p><strong>Boot Sequence:</strong>
See <a href="/st/rl10/base_linux/overview.html">RightLink 10 Linux Base </a> for details on the default scripts.</p>

<ul>
<li><strong>Chef Client Install</strong> - This script installs and configures the chef client.<br></li>
<li><strong>PHP Appserver Install - chef</strong> - Installs PHP and required dependencies and deploys the application code.</li>
<li><p><strong>PHP Appserver Application Backend - chef</strong> - This recipe attaches the application server to the load balancer servers serving the same application name as that of the application server and existing in the same deployment. This recipe schedules the execution of the <code>HAProxy Frontend - chef</code> script on the load balancer servers matching the machine tag ‘load_balancers:active_<application_name>=true’.
<strong>Operational Scripts:</strong></p></li>
<li><p><strong>PHP Appserver Application Backend - chef</strong> - This recipe attaches the application server to the load balancer servers serving the same application name as that of the application server and existing in the same deployment. This recipe schedules the execution of the <code>HAProxy Frontend - chef</code> script on the load balancer servers matching the machine tag ‘load_balancers:active_<application_name>=true’.</p></li>
<li><p><strong>PHP Appserver Application Backend Detach- chef</strong> - This recipe detaches the application server from the load balancer servers serving the same application name as that of the application server and existing in the same deployment. This recipe schedules the execution of the <code>HAProxy Frontend - chef</code> script on the load balancer servers matching the machine tag ‘load_balancers:active_<application_name>=true’.</p></li>
</ul>

<p><strong>Decommission Sequence</strong></p>

<ul>
<li><strong>PHP Appserver Application Backend Detach- chef</strong> - This recipe detaches the application server from the load balancer servers serving the same application name as that of the application server and existing in the same deployment. This recipe schedules the execution of the <code>HAProxy Frontend - chef</code> script on the load balancer servers matching the machine tag ‘load_balancers:active_<application_name>=true’.</li>
<li><strong>Chef Client Delete Node</strong> - Removes the node from the Chef Server during termination if the <code>DELETE_NODE_ON_TERMINATE</code> is true.</li>
</ul>

<h3 id="technical-overview-retrieval-of-application-code">Retrieval of Application Code</h3>

<p>The ServerTemplate contains scripts that support the retrieval of application code from the following locations:</p>

<ul>
<li>ROS Container (*.zip, *.tgz)</li>
<li>SVN Repository</li>
<li>Git Repository</li>
<li>FTP Server</li>
<li>Specified URL (http://www.example.com/myapp.zip)</li>
<li>rsync</li>
</ul>

<p>The application code will be placed on the local instance in a location that is based upon the values specified for the following inputs.</p>

<ul>
<li><strong>Project App root</strong> - text: /home/webapps (default)</li>
<li><strong>Application Name</strong> - text: myapp</li>
</ul>

<p>In the example above, the root directory for the application code will be stored in: /home/webapps/myapp</p>

<h2 id="further-reading">Further Reading</h2>

<ul>
<li><a href="/st/rl10/php/tutorial.html">PHP Application Server - Tutorial</a></li>
</ul>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>