<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Prepare ServerTemplates for Production</title><meta content="Steps for properly preparing your RightScale ServerTemplate so that it can be safely used in a production environment." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../js/main.js"></script></head><body class="cm cm_servertemplate_dev_guide cm_servertemplate_dev_guide_prepare_servertemplates_for_production" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/cm"><h4 class="list-group-heading"><img src="../../img/product-cloud-management.svg" /><span>Cloud Management</span></h4></a><a class="list-group-item" href="../about.html">About</a><a class="list-group-item" href="/cm/rs101/">Terminology and Concepts</a><a class="list-group-item" href="/cm/management_guide/">Lifecycle Management</a><a class="list-group-item" href="/cm/dashboard/">Dashboard User's Guide</a><a class="list-group-item" href="/cm/administrators_guide/">Administrator's Guide</a><a class="list-group-item" href="/cm/designers_guide/">Designer's Guide</a><a class="list-group-item" href="/cm/dashboard/design/server_templates/">ServerTemplates</a><a class="list-group-item" href="/cm/servertemplate_dev_guide/">ServerTemplate Developer's Guide</a><a class="list-group-item" href="/cm/pas/">Publishing and Sharing</a><a class="list-group-item" href="/cm/windows_guide/">Windows Guide</a><a class="list-group-item" href="/cm/ref/">Reference Information</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../">Flexera CMP Docs</a> &#x2F; <a href="../">Cloud Management</a> &#x2F; <a href="./">ServerTemplate Developer's Guide</a></p><div class="page-header"><h1>Prepare ServerTemplates for Production</h1></div><div class="main-content"><h2 id="overview">Overview</h2>

<p>Once you have finished your development and testing on a new custom ServerTemplate, you are ready to prepare it for use in a production environment. One of the most important steps of the ServerTemplate development process is to properly prepare the ServerTemplate so that it can be safely used in a production environment, or published and shared with the RightScale community via the MultiCloud Marketplace.</p>

<h2 id="steps">Steps</h2>

<p>Follow the checklist below for general guidelines.</p>

<ol>
<li>First, the ServerTemplate candidate for production use should have been properly tested in a staging environment. See <a href="/cm/servertemplate_dev_guide/test_servertemplates_in_staging.html">Test ServerTemplates in Staging</a>.</li>
<li>Verify the ServerTemplate&#39;s configuration settings under each tab. If you need to make any changes to the ServerTemplate, you should repeat your ServerTemplate testing procedures.

<ol>
<li><strong>Images</strong> - Make sure the ServerTemplate contains MCIs that support for all of the clouds and operating system distributions with which the ServerTemplate can be used to launch servers. Verify that the proper <q>default</q> MCI is selected for the ServerTemplate.</li>
<li><strong>Repos</strong> - All repositories must be static and immutable. Make sure all software repositories (e.g. GitHub, SVN) and OS disribution repositories are locked down. The selected RepoPath should be a committed revision that points to a static version of your codebase.

<ul>
<li><strong>Cookbook Repositories Path</strong>  - Each referenced software repository must be locked to a specific SHA to ensure that the RepoPath only references immutable versions of the cookbooks. Once the repositories are locked down, commit the RepoPath object and make sure that the ServerTemplate references the most recently committed RepoPath revision.</li>
<li><strong>OS Distribution Repositories</strong>  - Make sure all of the repositories are locked down to a specific date (and not <q>current</q>).</li>
</ul></li>
<li><strong>Scripts</strong> - You should have already thoroughly tested the ServerTemplate&#39;s boot and decommission scripts. However, you should verify that the ServerTemplate contains all of the operational scripts that may be required during the lifecycle of the server to perform any type of expected operational task. If the ServerTemplate contains any RightScripts, make sure that it&#39;s using a committed revision of the script and not a editable HEAD version.</li>
<li><strong>Alerts</strong> - It&#39;s recommended that the ServerTemplate only includes alerts that are generic and not deployment-specific. For example, if the ServerTemplate is going to be used across multiple deployments, it should not contain any alerts for autoscaling purposes to prevent servers from accidentally voting for an autoscaling action in a different deployment.</li>
<li><strong>Inputs</strong> - Similar to alerts, the ServerTemplate should not contain any deployment-specific default values if it&#39;s going to be used in multiple deployments. However, in some use cases, you will want to create an application-specific ServerTemplate with very specific defaults. For advanced inputs, it&#39;s recommended that you provide an acceptable default value, if applicable. Verify that you do not have multiple inputs that are used to set the same value. (e.g. Master DB FQDN, Master Database FQDN) Ideally, the ServerTemplate only contains a single input for a particular value. However, if you are using RightScripts and Chef recipes in the same ServerTemplate, you might not be able to avoid duplicate inputs. (e.g. MASTER_FQDN, Master FQDN) In such situations, you should provide similar names as much as possible and clearly highlight the duplication in your user documentation.</li>
</ol></li>
<li>Update the ServerTemplate&#39;s details (e.g. name, description, etc.) accordingly under its Info tab. In the ServerTemplate&#39;s description, you may want to specify which clouds are supported or if it&#39;s specifically designed to work with another ServerTemplate. Also, you may want to add a meaningful prefix/suffix to the ServerTemplate&#39;s nickname to denote any required identification or compatibility information. (e.g. v12 LTS or Beta) Add helpful support information such as links to technical documentation or list support contact information. Be sure to include any release specific information in the commit message. If shared, the commit message will be visible to users in the receiving RightScale account.</li>
<li>Commit the ServerTemplate, if necessary.</li>
<li>(Optional) If the ServerTemplate is going to be used in a different RightScale account, you will need to publish and share it accordingly. See <a href="/cm/pas/">Publishing and Sharing</a>.</li>
<li>(Optional) Notify the end-users when the ServerTemplate is available for use. Be specific!  It&#39;s important that an end-user knows which revision of the ServerTemplate should be used in a production deployment(s). To learn how to update a live production environment in the cloud so that the latest ServerTemplates are used, see <a href="/cm/management_guide/performing_upgrades_in_the_cloud.html">Performing Upgrades in the Cloud</a> for details.</li>
</ol>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>