<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Connect a Firewalled Private Cloud to RightScale</title><meta content="The RightLink management agent makes outbound HTTP(S) connections to the RightScale infrastructure in order to receive configuration instructions." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../../../js/main.js"></script></head><body class="cm cm_dashboard cm_dashboard_settings cm_dashboard_settings_account cm_dashboard_settings_account_connect_a_firewalled_private_cloud_to_rightscale" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/cm"><h4 class="list-group-heading"><img src="../../../../img/product-cloud-management.svg" /><span>Cloud Management</span></h4></a><a class="list-group-item" href="../../../about.html">About</a><a class="list-group-item" href="/cm/rs101/">Terminology and Concepts</a><a class="list-group-item" href="/cm/management_guide/">Lifecycle Management</a><a class="list-group-item" href="/cm/dashboard/">Dashboard User's Guide</a><a class="list-group-item" href="/cm/administrators_guide/">Administrator's Guide</a><a class="list-group-item" href="/cm/designers_guide/">Designer's Guide</a><a class="list-group-item" href="/cm/dashboard/design/server_templates/">ServerTemplates</a><a class="list-group-item" href="/cm/servertemplate_dev_guide/">ServerTemplate Developer's Guide</a><a class="list-group-item" href="/cm/pas/">Publishing and Sharing</a><a class="list-group-item" href="/cm/windows_guide/">Windows Guide</a><a class="list-group-item" href="/cm/ref/">Reference Information</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../../../">Flexera CMP Docs</a> &#x2F; <a href="../../../">Cloud Management</a> &#x2F; <a href="../../">Dashboard User's Guide</a> &#x2F; <a href="../">Settings</a> &#x2F; <a href="./">Account Settings</a></p><div class="page-header"><h1>Connect a Firewalled Private Cloud to RightScale</h1></div><div class="main-content"><h2 id="overview">Overview</h2>

<p>The RightLink management agent makes outbound HTTP(S) connections to the RightScale infrastructure in order to receive configuration instructions. Optional RightScale features such as monitoring and frozen package repositories make outbound connections using other protocols.</p>

<p>When RightLink resides behind a firewall that performs egress filtering, the firewall must be configured to allow this outbound traffic.</p>

<h3 id="-prerequisites">Prerequisites</h3>

<p>This information applies to the following environment:</p>

<ul>
<li>Private clouds whose API endpoint resides behind a firewall</li>
<li>RightScale management requests sent to private cloud APIs</li>
</ul>

<p>This information <strong>does not apply</strong>  to:</p>

<ul>
<li>Compute instances that run inside private clouds</li>
</ul>

<p>Please review the firewall rules you will need to set up in order to enable communication between the RightScale platform and private clouds, end-users, and design asset repositories located inside the firewall as specified in <a href="/faq/Firewall_Configuration_Ruleset.html">Firewall Configuration Ruleset</a>.</p>

<h2 id="goal">Goal</h2>

<p>After completing this how-to, you will have configured your network firewall to allow API requests to your private cloud. You will be able to <a href="/cm/dashboard/register_a_private_cloud_with_rightscale.html">register your cloud</a> with the RightScale platform, <a href="/cm/dashboard/add_a_cloud_account_to_a_rightscale_account.html">add your cloud</a> to one or more RightScale accounts, and use our UI or API to make cloud-management requests.</p>

<h2 id="procedure">Procedure</h2>

<h3 id="procedure-note-rightscale-operated-networks">Note RightScale-Operated Networks</h3>

<p>RightScale operates network infrastructure in several geographical regions to provide fault tolerance. Your instances generally communicate with infrastructure in a nearby geographical region, but may be redirected to remote regions during network or cloud outages.</p>

<table><thead>
<tr>
<th>Network/CIDR</th>
<th>Location</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>54.225.248.128/27</td>
<td>US-East</td>
<td>us-3 cluster and island1 resources</td>
</tr>
<tr>
<td>54.244.88.96/27</td>
<td>US-West</td>
<td>us-4 cluster and island10 resources</td>
</tr>
<tr>
<td>54.86.63.128/26</td>
<td>US-East</td>
<td>additional island1 resources</td>
</tr>
<tr>
<td>54.187.254.128/26</td>
<td>US-West</td>
<td>additional island10 resources</td>
</tr>
</tbody></table>

<h3 id="procedure-enable-cloud-api-requests">Enable Cloud API Requests</h3>

<p>Your private cloud&#39;s API is normally exposed as an HTTPS endpoint on port tcp/443 though the protocol and port can change depending on how you have configured the cloud. RightScale must be able to make API requests to this endpoint from each RightScale-operated network range.</p>

<p>Assuming that your cloud is listening on port 443, you will need to create the following ingress rules:</p>

<table><thead>
<tr>
<th>Source Network/CIDR</th>
<th>Ports</th>
<th>Purpose</th>
</tr>
</thead><tbody>
<tr>
<td>54.225.248.128/27</td>
<td>configurable (usually tcp/443)</td>
<td>Receive API requests from us-3</td>
</tr>
<tr>
<td>54.244.88.96/27</td>
<td>configurable (usually tcp/443)</td>
<td>Receive API requests from us-4</td>
</tr>
<tr>
<td>54.86.63.128/26</td>
<td>configurable (usually tcp/443)</td>
<td>Receive API requests from us-3</td>
</tr>
<tr>
<td>54.187.254.128/26</td>
<td>configurable (usually tcp/443)</td>
<td>Receive API requests from us-4</td>
</tr>
</tbody></table>

<div class="alert alert-info" role="alert"><strong>Note:</strong><p>No Ingress required for VMware vSphere Clouds or AWS VPC</p>
</div>

<h3 id="procedure-what-s-next">What's Next</h3>

<p>Your firewall has been configured to allow RightScale to make API requests. You can now connect it to RightScale and add it to one or more accounts.</p>

<ul>
<li><a href="/cm/dashboard/register_a_private_cloud_with_rightscale.html">Register a Private Cloud with RightScale</a></li>
<li><a href="/cm/dashboard/add_a_cloud_account_to_a_rightscale_account.html">Add a Cloud Account to a RightScale Account</a></li>
</ul>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>