<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Create a Single Security Group for a 3-Tier (Windows) Tutorial</title><meta content="Procedure for creating a Single Security Group for a 3-Tier (Windows) Tutorial using the RightScale Cloud Management Dashboard." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../../../js/main.js"></script></head><body class="cm cm_dashboard cm_dashboard_manage cm_dashboard_manage_networks cm_dashboard_manage_networks_create_a_single_security_group_for_a_3-tier_windows_tutorial" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/cm"><h4 class="list-group-heading"><img src="../../../../img/product-cloud-management.svg" /><span>Cloud Management</span></h4></a><a class="list-group-item" href="../../../about.html">About</a><a class="list-group-item" href="/cm/rs101/">Terminology and Concepts</a><a class="list-group-item" href="/cm/management_guide/">Lifecycle Management</a><a class="list-group-item" href="/cm/dashboard/">Dashboard User's Guide</a><a class="list-group-item" href="/cm/administrators_guide/">Administrator's Guide</a><a class="list-group-item" href="/cm/designers_guide/">Designer's Guide</a><a class="list-group-item" href="/cm/dashboard/design/server_templates/">ServerTemplates</a><a class="list-group-item" href="/cm/servertemplate_dev_guide/">ServerTemplate Developer's Guide</a><a class="list-group-item" href="/cm/pas/">Publishing and Sharing</a><a class="list-group-item" href="/cm/windows_guide/">Windows Guide</a><a class="list-group-item" href="/cm/ref/">Reference Information</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../../../">Flexera CMP Docs</a> &#x2F; <a href="../../../">Cloud Management</a> &#x2F; <a href="../../">Dashboard User's Guide</a> &#x2F; <a href="../">Manage</a> &#x2F; <a href="./">Networks - Actions and Procedures</a></p><div class="page-header"><h1>Create a Single Security Group for a 3-Tier (Windows) Tutorial</h1></div><div class="main-content"><h2 id="overview">Overview</h2>

<p>If you are following one of the end-to-end tutorials and building a 3-tier deployment for demonstration purposes, create a single security group that you can use for all servers in the deployment. Once you are successful setting up a 3-tier deployment using a single security group, you can set up more secure firewall permissions that would be more realistic for production environments.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
<li>&#39;security_manager&#39; user role privilege</li>
<li>An understanding of the <a href="/cm/dashboard/manage/networks/network_manager.html">Network Manager</a></li>
</ul>

<h2 id="steps">Steps</h2>

<ol>
<li>Go to <strong>Manage</strong> &gt; <strong>Networks</strong>.</li>
<li>Security Groups are cloud/region-specific. Select the network for the desired cloud/region into which you are going to launch servers (with the security group you are about to create). If an existing network is not available for use, you must first create a network. See <a href="/cm/dashboard/manage/networks/networks.html">Create a Network</a>.</li>
<li>Click the <strong>Security Groups</strong> tab.</li>
<li>Click <strong>New Security Group</strong>. Provide the required information and click <strong>Save</strong>.<br>
<img src="/img/cm-new-security-group-win.png" alt="cm-new-security-group-win.png" width="550" height="423" />

<ul>
<li><strong>Name</strong> - Enter a name for the new Security Group. (e.g. my-3tier-demo)</li>
<li><strong>Description</strong> (optional) - Provide a brief description about the security group.</li>
<li><strong>Network</strong> - The name of the network that the security group will belong to.</li>
<li><strong>Common ports (inbound)</strong> - Select any of the common ports for which you want to create firewall rules to allow ingress communication to instances launched with this security group. If a port is selected, a firewall rule will be created in the security group that will allow ingress communication from any IP address (0.0.0.0/0).</li>
</ul></li>
<li>Determine which additional firewall rules you need to create based upon the type of 3-Tier architecture you&#39;re going to build. See some of the examples below. Notice that some of the firewall rules use a more restrictive permission than &#39;any IP&#39; (0.0.0.0/0) by adding the security group to itself. In the examples below, the security group is called &#39;3tier&#39;.

<ul>
<li><strong>HAProxy--IIS--SQL​</strong>

<ul>
<li>Inbound, TCP, <strong>1433</strong> , group:3tier (SQL Server)</li>
<li>Inbound, TCP, <strong>5022</strong> , group:3tier (SQL Server)</li>
<li>Inbound, TCP, <strong>8000</strong> , group:3tier (Web App)</li>
<li>Inbound, TCP, <strong>22</strong> , 0.0.0.0/0 (any IP) (SSH)</li>
<li>Inbound, TCP, <strong>3389</strong> , 0.0.0.0/0 (any IP) (RDP)</li>
<li>Inbound, TCP, <strong>80</strong> , 0.0.0.0/0 (any IP) (HTTP)</li>
<li>Inbound, TCP, <strong>443</strong> , 0.0.0.0/0 (any IP) (HTTPS) (<em>Optional</em>)</li>
</ul></li>
<li><strong>ELB--IIS--SQL​</strong>

<ul>
<li>Inbound, TCP, <strong>1433</strong> , group:3tier (SQL Server)</li>
<li>Inbound, TCP, <strong>5022</strong> , group:3tier (SQL Server)</li>
<li>Inbound, TCP, <strong>8000</strong> , group:amazon-elb/amazon-elb-sg (Web App)</li>
<li>Inbound, TCP, <strong>3389</strong> , 0.0.0.0/0 (any IP) (RDP)</li>
</ul></li>
</ul></li>
<li>Create any additional firewall rules, as necessary. Click <strong>New Rule</strong>. You can either create an IP-based or Group-based permission. You should have been able to select all of the required IP-based firewall rules when you created the security group. See the different example below to create all of the necessary firewall permissions for the 3-tier setup.<br><br>
<strong>Example: IP-based Permission</strong><br>
<img src="/img/cm-new-rule-ip-permission.png" alt="cm-new-rule-ip-permission.png" width="238" height="432" />

<ul>
<li><strong>Direction</strong> - The direction of the request, relative to the instance. Select <strong>Inbound</strong>.</li>
<li><strong>Protocol</strong> - Select the protocol(s) for the firewall rule.</li>
<li><strong>Ports</strong> - Specify a single port or range of ports for the firewall rule. (For a single port, put the number in both fields.)</li>
<li><strong>IP Range</strong> - Define the level of IP access using CIDR notation. For example, to allow any IP addresses (i.e. no IP restrictions), enter: 0.0.0.0/0.<br><br>
<strong>Example: Group-based Permission</strong><br>
<img src="/img/cm-new-rule-group-win.png" alt="cm-new-rule-group-win.png" width="241" height="501" /></li>
<li><strong>Direction</strong> - The direction of the request, relative to the instance. Select <strong>Inbound</strong>.</li>
<li><strong>Protocol</strong> - Select the <q>group</q> protocol(s) for the firewall rule.</li>
<li><strong>Ports</strong> - Specify a single port or range of ports for the firewall rule. (For a single port, put the number in both fields.)</li>
<li><strong>Owner</strong> - Specify the cloud account number of the security group to which you&#39;re going to allow access. For this example, you&#39;re going to add the security group to itself so that instances that use this security group will be able to establish connections on the private network (via a private IP address). Click the <strong>My Account</strong> button to auto-fill the field with the cloud account associated with the RightScale account.</li>
<li><strong>Group</strong> - Specify the name or ID of the security group for which you&#39;re creating the firewall rule. For a 3-tier example, enter the name of the security group itself. (e.g. my-3tier-demo)</li>
</ul></li>
<li>Verify that you&#39;ve created all of the necessary firewall rules correctly. The example screenshot below is a security group (called &#39;my-3tier-demo&#39;) that includes all of the required firewall rules for a basic &#39;HAProxy--IIS--SQL​&#39; deployment.
<img src="/img/cm-list-rules-win.png" alt="cm-list-rules-win.png" width="725" height="362" /></li>
<li>(Optional) If you want to perform a basic ping test of your your servers after they become operational, you&#39;ll need to create an additional rule.<br>
<img src="/img/cm-new-rule-icmp.png" alt="cm-new-rule-icmp.png" width="237" height="499" /><br>

<ul>
<li><strong>Direction</strong> - Select <strong>Inbound</strong>.</li>
<li><strong>Protocol</strong> - Select <strong>ICMP-IP</strong>.</li>
<li><strong>ICMP Type</strong> - Select <strong>0 - Echo Reply</strong>.</li>
<li><strong>ICMP Code</strong> - Select <strong>0 - No Code</strong>.</li>
<li><strong>IP Range</strong> - Enter <strong>0.0.0.0/0</strong> or click <strong>My IP</strong> to use your own device&#39;s own public IP address for testing purposes.</li>
</ul></li>
<li><em>Congratulations!</em> You now have a basic security group that you can use for all servers in a basic 3-tier deployment. Later you will want to consider using multiple security groups for more granular access controls.</li>
</ol>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>