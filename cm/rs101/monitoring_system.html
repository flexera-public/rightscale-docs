<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Monitoring System</title><meta content="The RightScale monitoring system overall consists of three major parts - the monitoring agent running on customer servers to send data to the RightScale monitoring system, the back-end storage system operated by RightScale to store the monitoring data, and the UI to query and visualize the monitoring data and generate alerts." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../js/main.js"></script></head><body class="cm cm_rs101 cm_rs101_monitoring_system" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/cm"><h4 class="list-group-heading"><img src="../../img/product-cloud-management.svg" /><span>Cloud Management</span></h4></a><a class="list-group-item" href="../about.html">About</a><a class="list-group-item" href="/cm/rs101/">Terminology and Concepts</a><a class="list-group-item" href="/cm/management_guide/">Lifecycle Management</a><a class="list-group-item" href="/cm/dashboard/">Dashboard User's Guide</a><a class="list-group-item" href="/cm/administrators_guide/">Administrator's Guide</a><a class="list-group-item" href="/cm/designers_guide/">Designer's Guide</a><a class="list-group-item" href="/cm/dashboard/design/server_templates/">ServerTemplates</a><a class="list-group-item" href="/cm/servertemplate_dev_guide/">ServerTemplate Developer's Guide</a><a class="list-group-item" href="/cm/pas/">Publishing and Sharing</a><a class="list-group-item" href="/cm/windows_guide/">Windows Guide</a><a class="list-group-item" href="/cm/ref/">Reference Information</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../">Flexera CMP Docs</a> &#x2F; <a href="../">Cloud Management</a> &#x2F; <a href="./">Cloud Management - Terminology and Concepts</a></p><div class="page-header"><h1>Monitoring System</h1></div><div class="main-content"><p>RightScale has long used a monitoring system based on a combination of open source and proprietary components. The monitoring system overall consists of three major parts: the monitoring agent running on customer servers to send data to the RightScale monitoring system, the back-end storage system operated by RightScale to store the monitoring data, and the UI to query and visualize the monitoring data and generate alerts. The legacy monitoring system uses collectd as agent, RDDtool plus custom software for storage, and a custom UI generated by Rails with graphs drawn by RRDtool.</p>

<p>Recently, a new monitoring system has replaced the back-end storage component (rrdcached) with TSS (Time Series Storage), keeping the monitoring agent and the UI the same. The following table outlines the configurations of the legacy and TSS-based monitoring systems.</p>

<table><thead>
<tr>
<th>Component</th>
<th>Legacy Monitoring System (sketchy)</th>
<th>New Monitoring System (TSS)</th>
</tr>
</thead><tbody>
<tr>
<td>monitoring agent</td>
<td>collectd v4</td>
<td>collectd v4 &amp; v5</td>
</tr>
<tr>
<td>back-end storage system</td>
<td>RRDtool (rrdcached)</td>
<td>TSS</td>
</tr>
<tr>
<td>User Interface</td>
<td>RRDtool (rrd graph) + Rails</td>
<td>&lt;unchanged&gt;</td>
</tr>
</tbody></table>

<div class="alert alert-info" role="alert"><strong>Note:</strong><p>The monitoring features are only available for our pay editions. If you have a Developer account, you need to upgrade in order to unlock this feature. Please contact us at <a href="mailto:sales@rightscale.com">sales@rightscale.com</a>.</p>
</div>

<h2 id="how-does-the-monitoring-system-work-">How Does the Monitoring System Work?</h2>

<p>The overall process of RightScale&#39;s monitoring system is as follows:</p>

<ul>
<li>The <a href="https://collectd.org/">Collectd</a> system statistics daemon is installed on an instance at boot time using the SYS Monitoring install RightScript.</li>
<li>The website passes the hostname of the monitoring server to the instance using the EC2 launch data (ex: RS_TSS=tss3-1.rightscale.com)</li>
<li>Collectd auto-detects data sources (disks, processes, etc), starts collecting data, and sends the data every 20 seconds via UDP to the specified monitoring server.</li>
<li>The monitoring server stores the data in an RRD database.</li>
<li>When you view a Monitoring tab in the Dashboard for an individual server or deployment, the request is proxied through to the monitoring server.</li>
<li>The monitoring server produces graphs using the data in the RRD database.</li>
</ul>

<div class="alert alert-info" role="alert"><strong>Note:</strong><p>If you have constructed your own monitoring URLs you may need to update them. Previously, you could submit data points through collectd by using the hostname sketchyX-Y.rightscale.com (e.g., sketchy1-1.rightscale.com). Now, with the new TSS-based monitoring system, new instances will be assigned to tssX-Y instead of sketchyX-Y. You will now have to submit your data points to tss-collectdX-Y.rightscale.com. This change does not impact those using our RightScript/Recipe without modification, nor does it impact instances that are still assigned to the legacy sketchyX-Y. Also, see the <a href="">API 1.5 documentation</a> for information on using the <code>monitoring_collector_http</code> and <code>monitoring_collector_udp</code> attributes of the Instance MediaType to help you manage your monitoring configuration depending on whether you are using HTTP or the collectd UDP protocol.</p>
</div>

<h2 id="can-websites-that-scale-way-up-view-monitoring-information-too-">Can Websites that Scale Way Up View Monitoring Information Too?</h2>

<p>Customers whose application scales into the tens, hundreds or even thousands of instances via a scalable server array may wonder if they can still view monitoring data in the RightScale Dashboard. Furthermore, can they view aggregate data from all of the servers? The answer is yes. However, we did have to implement a policy in order to maintain performance while user view their data. Remember that each server instance registers with the load balancers (e.g. HAProxy) as the site scales so that the workload can be evenly balanced between application servers in the array. As an example, you could have 1000 instances registered with two front-end servers running load balancing software. If each registered server instance (1000 in our example) had its own individual set of graphs as well as contributed to an aggregate graph, the amount of data would be overwhelming and take too long to retrieve and graph. Hence, the concept of active and inactive Servers with respect to Monitoring had to be defined. Servers are considered inactive if they have not sent data for a period of one day (or more). The most important points with respect to viewing monitoring data of sites with many servers are:</p>

<ul>
<li>Cumulative graphs show the total activity of <em>all</em> servers but provide detailed information only for the <em>active</em> servers (inactive server information is not available)</li>
<li>Active server graphing data is always available (either in thumbnail graphs or by providing a link to produce the graph on demand)</li>
</ul>

<h2 id="monitoring-system-topics">Monitoring System Topics</h2>

<ul>
<li><a href="/cm/rs101/cluster_monitoring.html">Cluster Monitoring</a></li>
<li><a href="/cm/rs101/collectd_plugin_apache_log_monitor.html">Collectd Plugin Apache Log Monitor</a></li>
<li><a href="/cm/rs101/list_of_monitored_metrics.html">List of Monitored Metrics</a></li>
<li><a href="/cm/rs101/monitoring_limitations.html">Monitoring Limitations</a></li>
<li><a href="/cm/rs101/monitoring_error_messages.html">Monitoring Error Messages</a></li>
<li><a href="/cm/rs101/monitoring_user_defined_processes.html">Monitoring User Defined Processes</a></li>
<li><a href="/cm/rs101/setting_up_collectd.html">Setting up collectd</a></li>
<li><a href="/cm/rs101/supported_graphs_types.html">Supported Graphs Types</a></li>
<li><a href="/cm/rs101/viewing_monitoring_dashboards.html">Viewing Monitoring Dashboards</a></li>
<li><a href="/cm/rs101/custom_collectd_plug-ins.html">Custom collectd plug-ins</a>

<ul>
<li><a href="/cm/rs101/create_custom_collectd_plug-ins_for_linux.html">Create Custom Collectd Plug-ins for Linux</a></li>
<li><a href="/cm/rs101/example_memory_buffers_collectd_exec_plugin.html">Example memory buffers collectd exec plugin</a></li>
</ul></li>
</ul>

<h3 id="monitoring-system-topics-see-also">See also</h3>

<ul>
<li><a href="/cm/windows_guide/windows_monitoring.html">Windows Monitoring</a></li>
</ul>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>