<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Rightscale OS Software Mirrors</title><meta content="The mirror.rightscale.com site is a mirroring service for RubyGems and OS software packages that RightScale provides to its customers." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../js/main.js"></script></head><body class="cm cm_rs101 cm_rs101_rightscale_os_software_mirrors" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/cm"><h4 class="list-group-heading"><img src="../../img/product-cloud-management.svg" /><span>Cloud Management</span></h4></a><a class="list-group-item" href="../about.html">About</a><a class="list-group-item" href="/cm/rs101/">Terminology and Concepts</a><a class="list-group-item" href="/cm/management_guide/">Lifecycle Management</a><a class="list-group-item" href="/cm/dashboard/">Dashboard User's Guide</a><a class="list-group-item" href="/cm/administrators_guide/">Administrator's Guide</a><a class="list-group-item" href="/cm/designers_guide/">Designer's Guide</a><a class="list-group-item" href="/cm/dashboard/design/server_templates/">ServerTemplates</a><a class="list-group-item" href="/cm/servertemplate_dev_guide/">ServerTemplate Developer's Guide</a><a class="list-group-item" href="/cm/pas/">Publishing and Sharing</a><a class="list-group-item" href="/cm/windows_guide/">Windows Guide</a><a class="list-group-item" href="/cm/ref/">Reference Information</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../">Flexera CMP Docs</a> &#x2F; <a href="../">Cloud Management</a> &#x2F; <a href="./">Cloud Management - Terminology and Concepts</a></p><div class="page-header"><h1>Rightscale OS Software Mirrors</h1></div><div class="main-content"><h2 id="what-is-[mirror-rightscale-com]-http---mirror-rightscale-com--">What is [mirror.rightscale.com](http://mirror.rightscale.com)?</h2>

<p>It is a mirroring service for RubyGems and OS software packages that RightScale provides to its customers. An array of cloud server instances host this service, enabling faster downloads and higher availability than public OS repositories.</p>

<p>These OS and RubyGems mirrors are used by cloud instances to boot and install OS packages, security updates and other software. You will commonly find a Rightscale mirror URL in the YUM or APT configuration of an instance, which can usually be found in the /etc/apt/ or /etc/yum/ directories somewhere (/etc/apt/.sources.list.d/ and other directories may hold the config files as well). The URLs used by YUM and APT may also be region or zone specific, and may not reflect &#39;mirror.rightscale.com&#39; in any way. For example, a US-East AWS instance may use the URL:</p>

<p><a href="http://ec2-us-east-mirror.rightscale.com/">http://ec2-us-east-mirror1.rightscale.com/</a></p>

<p>These mirrors all host the same content, so the name change is simply to accommodate higher speeds and latency in specific zones or regions.</p>

<h2 id="why-do-we-need-another-mirror-">Why Do We Need Another Mirror?</h2>

<p>Public RubyGem and OS software repositories often exhibit transient issues that can cause problems when booting and reconfiguring machines through the RightScale Dashboard. Therefore, RightScale offers its own mirrors that it manages and supports in order to increase the robustness and availability of RubyGems and OS packages for our users. The mirrors help us control and remove inconsistencies that external mirrors often have before updating them. The mirror also makes it possible for users to lockdown their open source distribution repositories to a specific date. This provides a more robust and failproof instance or server while using older versions of packages/software, but you will always have the peace of mind that your instance will boot successfully and no upstream changes to packages will affect your servers/instances.</p>

<h2 id="who-maintains-it-">Who Maintains It?</h2>

<p>RightScale mirrors are fully operated and maintained by RightScale.</p>

<h2 id="how-often-is-it-updated-and-what-does-the-mirror-contain-">How Often is it Updated and What Does the Mirror Contain?</h2>

<p>The <strong>mirror is updated nightly</strong> from a few of the well-known repository sources that provide rsync capabilities. The mirror currently contains the following:</p>

<ul>
<li><strong>Standard OS Repositories</strong>

<ul>
<li><strong>CentOS</strong> - (/centos) CentOS Linux public repositories.</li>
<li><strong>Ubuntu</strong> - (/ubuntu_daily) Ubuntu linux public repositories. Support for apt, which is the Debian package manager similar to yum.</li>
</ul></li>
<li><strong>Standard third party repositories</strong>

<ul>
<li><strong>rubyforge.org</strong> - (/rubygems) All RubyGems hosted by rubyforge.org.</li>
<li><strong>EPEL</strong> - (/epel) Fedora EPEL (Extra Packages for Enterprise Linux) Version 5+ with extra packages for Enterprise Linux.</li>
<li><strong>IUS -</strong> (/ius) Packages for RHEL and Centos including PHP, MySQL and other commonly installed software.</li>
</ul></li>
<li><strong>RightScale software repositories</strong>

<ul>
<li><strong>RightScale Software</strong> - (/rightscale_software, /rightscale_software_ubuntu) - various packages maintained by RightScale.</li>
<li><strong>RightScale RightLink</strong> - (/rightlink) RightScale RightLink agent software</li>
</ul></li>
</ul>

<p><strong>Note:</strong> Most, if not all of the above mirrors, should be direct upstream copies of the official mirrors hosted by each OS/distribution/source. Aside from caching a copy of each OS mirror nightly, each cached/dated version, as well as the &#39;latest&#39; copy, should be the same as the upstream source repository on that given date.</p>

<h2 id="browsing-the-mirror">Browsing the Mirror</h2>

<p>You can easily browse the mirror by pointing your browser to <a href="http://mirror.rightscale.com">http://mirror.rightscale.com</a> and drilling down into any of the various OS or RubyGems directories. For example, the base of the Centos 6 64-bit main &#39;OS&#39; directory in the Centos repository would be here:</p>

<p><a href="http://mirror.rightscale.com/centos/6/os/x86_64/">http://mirror.rightscale.com/centos/6/os/x86_64/</a></p>

<p>Rightscale archives these upstream repositories nightly, so if you are looking for a specific date, you can drill into the <strong>/archive</strong> directory and several more folders will exist, each by date.</p>

<p>For August 21, 2013, you would navigate to the following folder:</p>

<p><a href="http://mirror.rightscale.com/centos/6/os/x86_64/archive/20130821/">http://mirror.rightscale.com/centos/6/os/x86_64/archive/20130821/</a></p>

<p>The &#39;latest&#39; nightly copy of the repository can always be found in the <strong>/latest</strong> directory:</p>

<p><a href="http://mirror.rightscale.com/centos/6/os/x86_64/archive/latest">http://mirror.rightscale.com/centos/6/os/x86_64/archive/latest</a></p>

<p>The &#39;latest&#39; version of rubygems is located here:</p>

<p><a href="http://mirror.rightscale.com/rubygems/archive/latest/">http://mirror.rightscale.com/rubygems/archive/latest/</a></p>

<p>Ubuntu&#39;s repositories are laid out slightly differently, however the base repository for August 21, 2013&#39;s cached copy of the repository would lie here:</p>

<p><a href="http://mirror.rightscale.com/ubuntu_daily/2013/08/21/">http://mirror.rightscale.com/ubuntu_daily/2013/08/21/</a></p>

<h2 id="how-is-security-handled-">How is Security Handled?</h2>

<p>Communication with OS package repositories happens over http. System packages installed through YUM on CentOS/RHEL and Apt on Ubuntu are not set up by default to use HTTPS, as there would be limited benefit. Both package managers support mechanisms to verify packages: all packages are signed with GPG keys by the OS vendors. GPG keys from OS vendors to verify standard distribution and standard third party package repositories are included in all RightImages. Keys for any RightScale created package repositories are bundled with RightLink and imported by default.</p>

<h2 id="how-are-the-mirrors-configured-on-a-rightscale-server-">How are the Mirrors Configured on a RightScale Server?</h2>

<p>​The package mirrors are configured by RightScale <a href="/rl10/index.html">RightLink</a> agent on every boot. Several sets of redundant URLs are passed to each booting Server, which RightLink uses to overwrite the existing system configuration. Each OS package manager will fail over between URLs if one of the members of the set is unavailable. Currently two different sets of URLs are passed, referred to as Group A and Group B as follows. The Group A URL set point to a <a href="http://en.wikipedia.org/wiki/Content_delivery_network">CDN</a>, currently Cloudfront, and the Group B URL set points to RightScale Island load balancers. Group B URLs are meant to act as proxies for RightScale Servers with limited egress to the public internet. VPC and private clouds should allow HTTP egress to these servers: see the <a href="/cm/dashboard/settings/account/index.html#about-rightscale-accounts">About Firewalls</a> section for further details. Island load balancers correspond to the RS_ISLAND user data variable passed down in the RightScale user data OS Package Mirror from the <a href="/faq/Firewall_Configuration_Ruleset.html">Firewall Configuration Ruleset</a> as well.</p>

<h2 id="potential-issue">Potential Issue</h2>

<p>If you get the following error or similar, it&#39;s possible that the Server/ServerTemplate is using an unfrozen repository (one possibility is security update enabled) that is pointing to the <strong>/latest</strong> and it caught the mirrors updating with the source/upstream repository. Usually if customers encounter this issue, we recommend to wait a few minutes and then try launch/re-launch again. If using a frozen date, this shouldn&#39;t be a problem.</p>

<ul>
<li><p>ERROR&gt; Execution failed * ERROR&gt; External command error: <q>/opt/rightscale/sandbox/bin/gem install /var/cache/rightscale/cookbooks/default/821dcc2de7fdeb9107f1d147b8338711/rightscale/recipes/../files/default/rightscale_tools-1.7.42.gem -q --no-rdoc --no-ri -v</q>1.7.42&quot;<q>exited with 1, expected 0.The command was run from</q>/tmp&quot;</p></li>
<li><p>ERROR&gt; Subprocess exited with 1</p></li>
<li><p>RS&gt; boot failed: rightscale::setup_security_updates,* RS&gt; rightscale::install_rightimage_extras, logging::default,</p></li>
<li><p>RS&gt; sys_firewall::default, sys_ntp::default, rightscale::default,</p></li>
<li><p>RS&gt; rightscale::install_tools, block_device::setup_ephemeral,</p></li>
<li><p>RS&gt; memcached::install_server, rightscale::setup_security_update_monitoring,</p></li>
<li><p>RS&gt; rightscale::do_security_updates</p></li>
</ul>

<p>By default, all ServerTemplates are frozen to a certain date when they were published. The purpose of the <a href="/cm/rs101/freezing_software_repositories.html">frozen repositories</a> is to ensure that a server will be launched with the same versions of software regardless of when that server is launched again in the future.</p>

<h2 id="see-also">See Also</h2>

<ul>
<li><a href="/cm/rs101/freezing_software_repositories.html">Freezing Software Repositories</a></li>
<li><a href="/cm/rs101/inheritance_of_software_repositories.html">Inheritance of Software Repositories</a></li>
</ul>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>