<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Create a Custom Alert Specification</title><meta content="Procedure for creating a Custom Alert Specification for a monitored variable in the RightScale Cloud Management Platform." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../js/main.js"></script></head><body class="cm cm_rs101 cm_rs101_create_a_custom_alert_specification" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/cm"><h4 class="list-group-heading"><img src="../../img/product-cloud-management.svg" /><span>Cloud Management</span></h4></a><a class="list-group-item" href="../about.html">About</a><a class="list-group-item" href="/cm/rs101/">Terminology and Concepts</a><a class="list-group-item" href="/cm/management_guide/">Lifecycle Management</a><a class="list-group-item" href="/cm/dashboard/">Dashboard User's Guide</a><a class="list-group-item" href="/cm/administrators_guide/">Administrator's Guide</a><a class="list-group-item" href="/cm/designers_guide/">Designer's Guide</a><a class="list-group-item" href="/cm/dashboard/design/server_templates/">ServerTemplates</a><a class="list-group-item" href="/cm/servertemplate_dev_guide/">ServerTemplate Developer's Guide</a><a class="list-group-item" href="/cm/pas/">Publishing and Sharing</a><a class="list-group-item" href="/cm/windows_guide/">Windows Guide</a><a class="list-group-item" href="/cm/ref/">Reference Information</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../">Flexera CMP Docs</a> &#x2F; <a href="../">Cloud Management</a> &#x2F; <a href="./">Cloud Management - Terminology and Concepts</a></p><div class="page-header"><h1>Create a Custom Alert Specification</h1></div><div class="main-content"><h2 id="objective">Objective</h2>

<p>To create a custom Alert specification. When you create a new Alert, several of the most common Alert specifications have already been predefined for your convenience. However, you may want to create your own custom Alert specification. This tutorial addresses this possibility.</p>

<h2 id="overview">Overview</h2>

<p>You can only create an alert specification for a variable that&#39;s being monitored (has a graph on the Dashboard Monitoring tab of your Deployment). The predefined list of metrics is based upon the monitoring graphs that are configured by default in all ServerTemplates published by RightScale via the appropriate monitoring setup script. (e.g. rightscale::setup_monitoring, SYS Monitoring install Windows, etc.)</p>

<p>However, there may be additional monitored metrics that are being monitored on your servers that are not listed in the dropdown menu. In such cases, you can follow the instructions below to create a custom alert specification.</p>

<p><img src="/img/cm-conditions-list.png" alt="cm-conditions-list.png" width="725" height="138" /></p>

<h2 id="steps">Steps</h2>

<h3 id="steps-locate-a-server-to-monitor">Locate a Server to Monitor</h3>

<p>The first step is to find a graph that you want to monitor. Go to the <strong>Monitoring</strong> tab of your deployment or server. Find a graph (of a server) for which you would like to create an alert specification.</p>

<p><img src="/img/cm-graph.png" alt="cm-graph.png" width="723" height="342" /></p>

<h3 id="steps-create-the-new-custom-entry-alert-specification">Create the New Custom Entry Alert Specification</h3>

<p>Next, in a new browser window/tab, go to the Server&#39;s Alerts tab. Click <strong>New</strong>. In this example we are setting up alerts for monitoring the number of currently queued haproxy requests on the <q>PHP FE1</q> server. Instead of using one of the predefined alerts, selectthe <strong>--custom entry--</strong> option.</p>

<p><img src="/img/cm-select-custom-entry.png" alt="cm-select-custom-entry.png" width="725" height="135" /></p>

<p>To define a custom metric for collectd to monitor, you need to override the list of predefined metrics by defining one using the following format:</p>

<p><code>[plugin]-[plugin-instance]/[type]-[type-instance]</code> - (Refer to the screenshot of the preceding graph to see where to find this information.)</p>

<p>Example: haproxy-phpapp/haproxy_sessions-total</p>

<p><strong>WARNING!</strong> For the current example, each user may have a different &#39;File&#39; name. Under the <strong>Inputs</strong> tab, the value for LB_APPLISTENER_NAME defines the name of the plugin-instance. LB_APPLISTENER_NAME= text:phpapp. If you change this value, you must also change the filename for the alert specification, otherwise the alert specification will not work.  </p>

<p><img src="/img/cm-define-custom-alert.png" alt="cm-define-custom-alert.png" width="725" height="330" /></p>

<h3 id="steps-provide-specific-info-for-your-custom-alert">Provide specific info for your custom Alert</h3>

<p>Next, you will need to provide basic information about the custom alert.</p>

<ul>
<li><strong>Name</strong> - A short nickname of the alert specification.</li>
<li><strong>Description</strong> - A more detailed description of the alert&#39;s purpose and how to use it.</li>
<li><strong>Variable</strong> - Open an SSH console into the instance and run the following command to list all variables and their valid ranges.</li>
</ul>

<p><code>less /usr/share/collectd/types.db</code></p>

<p>Example: <em>haproxy_sessions current_queued:GAUGE:0:65535, current_session:GAUGE:0:65535</em></p>

<p><strong>Note</strong>: Again, the type is &#39;haproxy_sessions&#39; and the associated variables are &#39;current_queued&#39; and &#39;current_session&#39;. If range is &#39;u&#39;, it is unknown. Users can only enter one variable for each alert specification.</p>

<ul>
<li><strong>Condition Threshold</strong> - The condition and threshold that the monitored variable must meet in order for an alert to be triggered. For example, if you are monitoring <q>haproxy-phpapp</q> and you set the condition and threshold to <q>> 500,</q> an alert is triggered if the number of currently queued haproxy rerquests is above 500.</li>
<li><strong>Duration</strong> - The duration (in minutes) for which the condition must be true without interruption in order for an alert to be triggered. RightScale evaluates each alert specification once a minute. For example, it may be a good practice to require the cpu idle to be below 20% for 5 minutes in a row before actually triggering the alert.</li>
<li><strong>Escalation</strong> - The name of the alert escalation that will be executed if the alert conditions are met. The escalation list must be defined on the deployment of a server or on the account. A <q>default</q> list is used if no matching list is found.</li>
</ul>

<p>Click <strong>Save</strong>.</p>

<p>Once you&#39;ve created the custom alert for this particular server, you can now use the <q>import alert</q> button to add the same alert to different Servers or ServerTemplates.</p>

<h2 id="see-also">See also</h2>

<ul>
<li><a href="/cm/dashboard/manage/arrays/arrays_actions.html#set-up-autoscaling-using-voting-tags">Set up Autoscaling using Voting Tags</a></li>
<li><a href="/cm/rs101/create_a_new_alert_specification.html">Create an Alert Specification</a></li>
<li><a href="/cm/rs101/alerts_alert_escalations_and_server_arrays.html">Alerts, Alert Escalations, and Server Arrays</a></li>
</ul>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>