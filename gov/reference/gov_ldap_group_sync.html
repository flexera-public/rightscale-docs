<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>LDAP Group Sync</title><meta content="Details around the LDAP Group Sync tool" name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../js/main.js"></script></head><body class="gov gov_reference gov_reference_gov_ldap_group_sync" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="../about.html"><h4 class="list-group-heading"><img src="../../img/product-governance.svg" /><span>Governance</span></h4></a><a class="list-group-item" href="/gov/">About</a><a class="list-group-item" href="/gov/getting_started">Getting Started</a><a class="list-group-item" href="/policies/">RightScale Policies</a><a class="list-group-item" href="/gov/reference">Reference</a><a class="list-group-item" href="/gov/faq">FAQ</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../">Flexera CMP Docs</a> &#x2F; <a href="../">About Governance</a> &#x2F; <a href="./">Reference</a></p><div class="page-header"><h1>LDAP Group Sync</h1></div><div class="main-content"><h2 id="overview">Overview</h2>

<p>The group sync tool is designed to sync groups from an LDAP provider, such as Active Directory, to RightScale Governance.</p>

<p>It runs on PowerShell and leverages ldapsearch(Part of <a href="https://www.openldap.org/software/download/">openldap</a> tools) or the <a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee617195(v=technet.10)">Active Directory PowerShell Module</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ol>
<li>Native PowerShell on Windows or <a href="https://github.com/PowerShell/PowerShell">PowerShell core</a> on Linux</li>
<li>For a non-Active Directory LDAP Directory Service, openldap tools are required:

<ul>
<li> Linux: <a href="https://www.openldap.org/software/download/">https://www.openldap.org/software/download/</a></li>
<li> Windows: <a nocheck href="https://userbooster.de/en/download/openldap-for-windows.aspx">https://userbooster.de/en/download/openldap-for-windows.aspx</a>

<ul>
<li>Ensure you add the <em>ClientTools</em> directory to your <code>PATH</code></li>
</ul></li>
</ul></li>
<li>For Active Directory, installation of the <a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee617195(v=technet.10)">Active Directory PowerShell Module</a> is recommended.</li>
</ol>

<h2 id="important-considerations">Important Considerations</h2>

<ol>
<li>This tool will follow memberships for nested groups. All users of nested groups will be treated as members of the parent group.</li>
<li>Groups must already exist in RightScale with the proper roles assigned. This tool will not create groups.</li>
<li>Once a group is managed by this tool, you will no longer be able to manually make modifications to its members in RightScale Governance. Any changes you make to the group in RightScale Governance will be removed once the next group sync is run. Manage the group in your directory service.</li>
<li>The time it takes to do a full sync is directly related to the number of groups and users you are synchronizing. We recommend running it a few times manually to get a good baseline before scheduling it to run on a reoccurring basis. Remember to add a buffer to the schedule to account for latency and additional users and groups that may be added in the future.</li>
<li>We recommend creating a group in RightScale Governance to manage users with the enterprise_manager role. It is important that this group is not synchronized from your directory service. This will ensure you have a fail-safe for gaining access to RightScale.</li>
</ol>

<h2 id="active-directory-ad-">Active Directory(AD)</h2>

<ol>
<li>If your directory service is Active Directory, and you will be running this script on a Microsoft Windows Server, please install the Active Directory PowerShell module.</li>
<li>When the Active Directory PowerShell module is installed on the Microsoft Windows Server running this script, the values of some parameters will automatically be overridden.</li>
</ol>

<h2 id="how-it-works">How It Works</h2>

<ol>
<li>The tool gathers groups from an LDAP directory service based on a comma separated list of groups. Wildcards are supported in the group names.</li>
<li>Once the groups are discovered, it collects the necessary details from each member of that group(Given name, Surname, Email Address, Phone Number and Principal UID).</li>
<li>A query is run against your Organization in RightScale to collect all users and determine what users need to be created and removed.</li>
<li>All new users are created based on the attributes collected from LDAP.</li>
<li>A query is run against your Organization in RightScale to collect the groups that match your LDAP groups and adjust their membership to match your LDAP groups membership.</li>
<li>(Optional) Users that are no longer members of your LDAP groups are removed from your RightScale Organization.</li>
</ol>

<h2 id="implementation">Implementation</h2>

<p>For further details on this solution, as well as instructions on configuring, executing, and scheduling, please visit the GitHub repository - <a href="https://github.com/rs-services/ldap-group-sync">rs-services/ldap-group-sync</a></p>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>