<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>10.2.1 Release</title><meta content="Version-specific information for the 10.2.1 Release of RightLink." name="description" /><meta content="initial-scale=1" name="viewport" /><link href="https://my.rightscale.com/favicon.ico" rel="icon" /><!--Stylesheets--><link href="../../css/main.css" rel="stylesheet" /><!--JavaScript--><script src="../../js/main.js"></script></head><body class="rl10 rl10_releases rl10_releases_rl10_10" data-spy="scroll" data-target="#subnav-right"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container-fluid max-width"><div class="navbar-header"><button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="../../img/FX_Logo_pos.png" /></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a target="_blank" href="https://community.flexera.com/t5/Flexera-Community/ct-p/Flexera_Community">Community</a></li><li><a target="_blank" href="https://www.flexera.com/blog/">Blog</a></li><li><a target="_blank" href="https://www.flexera.com/about-us/contact-us.html">Contact</a></li><li><a target="_blank" href="https://login.rightscale.com/login/session/new">Log In</a></li></ul><ul class="nav navbar-nav navbar-right nav-status"><li class="nav-al-search"><a href="../../search.html">Search</a></li></ul><form class="navbar-form navbar-left" role="search" action="/search.html" method="get" ><div class="form-group"><input class="form-control input-sm" id="site-search" placeholder="Search" type="text" name="q" /></div><input type="submit" style="position: absolute; left: -9999px"/></form><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript"> docsearch({apiKey: 'b58c3ad6ab9d6e3cd425867d64a6766f',indexName: 'rightscale',inputSelector: '#site-search', debug: false, autocompleteOptions: {autoselect: false}});</script></div></div></nav><div class="wrap"><div class="container-fluid max-width"><div class="row"><div class="col-sm-3"><div class="clearfix"><aside class="main-nav" role="complementary"><nav class="list-group" role="navigations"><a class="list-group-item" href="/rl10"><h4 class="list-group-heading"><span>RightLink 10</span></h4></a><a class="list-group-item" href="../about.html">About</a><a class="list-group-item" href="../getting_started.html">Getting Started</a><a class="list-group-item" href="../os_use_case_cloud_support.html">Operating System,<br> Use Case, and Cloud Support</a><a class="list-group-item" href="/rl10/reference">Reference</a><a class="list-group-item" href="/rl10/releases">Releases</a><a class="list-group-item" href="/rl10/tools">Tools</a><a class="list-group-item" href="/rl10/migration">Migration Guide</a></nav></aside><div class="callout"><a href="/api/"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-api.svg" /><h4>Flexera CMP APIs</h4></div><span>See the API reference documentation for all of our products.</span></div></div></a></div><div class="callout"><a href="../../ca/cloud_comp/ca_getting_started_with_cloud_comparison.html"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-cloud-blue.svg" /><h4>Cloud Comparison</h4></div><span>Compare public clouds based on the features they offer.</span></div></div></a></div><div class="callout"><a target="_blank" href="http://feedback.rightscale.com"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-feedback.svg" /><h4>Feedback</h4></div><span>Get in touch and we’ll get back to you as soon as we can.</span></div></div></a></div><div class="callout"><a href="/release-notes"><div class="panel panel-default"><div class="panel-body"><div class="callout-title"><img src="../../img/icon-notes.svg" /><h4>Release Notes</h4></div><span>See the notes for the latest releases of each application and what’s changed.</span></div></div></a></div></div></div><div class="col-sm-9"><div class="row"><div class="col-sm-9"><div class="clearfix"><p><a href="../../">Flexera CMP Docs</a> &#x2F; <a href="../">RightLink 10</a> &#x2F; <a href="./">Releases</a></p><div class="page-header"><h1>10.2.1 Release</h1></div><div class="main-content"><p>10.2.1 is a major GA release that brings support for the Windows OS as well as some new features and bug fixes. This release includes:</p>

<h3 id="-features">Features</h3>

<ol>
<li>Added support for the Windows operating system</li>
<li>Added the <a href="/rl10/reference/rl10_rcav.html">RightScale Networking Agent</a> scripts to the RightLink installer. The RightScale Networking Agent is needed with using the RightScale Cloud Appliance for vSphere (RCA-V) with dynamic or static IP address allocation as well as when some global settings are defined (routes to rightscale, DNS, NTP)</li>
<li><a href="https://github.com/rightscale/rsc/tree/v4.0.0">RSC</a> version changed to v4.0.0</li>
</ol>

<h3 id="-linux-specific-features">Linux Specific Features</h3>

<ol>
<li>Built-in utilization <a href="/rl10/reference/rl10_monitoring.html">monitoring</a> (cpu, memory, disk I/O utilization), tags for the core are automatically set (rs_monitoring:state and rs_monitoring:util)</li>
<li>Built-in cpu, df <a href="/rl10/reference/rl10_monitoring.html">monitoring</a>, plus metrics beyond std collectd, this can be enabled via the RLL API</li>
<li>Added support for Universal Cloud Appliance, specifically making keep-alive requests to the appliance and supporting the <q>resurrection</q> case (instance stop-start transition while RL10 is running)</li>
</ol>

<h3 id="-windows-specific-features">Windows Specific Features</h3>

<ol>
<li>Added rightlink.install.ps1 to perform RightLink installation on a custom image for Windows. RightLink now ships with userdata-fetcher.ps1 which runs at startup. This script grabs RightScale authentication tokens from each cloud&#39;s userdata service at startup, enabling RightLink to boot for custom images</li>
<li>Built-in <a href="/rl10/reference/rl10_monitoring.html">monitoring</a> for Windows</li>
<li>Windows decommission bundle is executed before sending OS shutdown</li>
<li><a href="/rl10/reference/rl10_proxying_rightlink.html">Proxy support</a> added for Windows.</li>
</ol>

<h3 id="-fixes">Fixes</h3>

<ol>
<li>Fixed RightNet websocket message expiration to better deal with clock skew</li>
<li>Added retry logic when local proxy errors are encountered, mostly due to network issues</li>
<li>Creating rightlink user home dir in script/install.sh (added -m -d /home/rightlink to useradd)</li>
<li>Environment is now passed through in sudo commands for rightlink user</li>
<li>Managed login fix for GCE</li>
<li>Fix zombie sudo process when running RightScripts</li>
<li>Improved enable script so cloud-init is not required</li>
<li>Remove rightlink user if uninstalling RL10</li>
</ol>

<h2 id="quick-reference">Quick Reference</h2>

<table><thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Change Log</td>
<td><a href="https://rightlink.rightscale.com/rll/10.2.1/CHANGES.md">https://rightlink.rightscale.com/rll/10.2.1/CHANGES.md</a></td>
</tr>
<tr>
<td>Github repo for Base ServerTemplates</td>
<td><a href="https://github.com/rightscale/rightlink_scripts/tree/10.2.1">https://github.com/rightscale/rightlink_scripts/tree/10.2.1</a></td>
</tr>
<tr>
<td>Linux Base ServerTemplate</td>
<td><a href="https://www.rightscale.com/library/server_templates/RightLink-10/lineage/53250">https://www.rightscale.com/library/server_templates/RightLink-10/lineage/53250</a></td>
</tr>
<tr>
<td>Linux Install-at-boot</td>
<td>Tag:<br><code>rs_agent:mime_include_url=https://rightlink.rightscale.com/rll/10.2.1/rightlink.boot.sh</code><br>To run: Import Linux Base ServerTemplate, create server from ST, pick desired MCI, launch</td>
</tr>
<tr>
<td>Linux Enable-running</td>
<td>Script: <a href="https://rightlink.rightscale.com/rll/10.2.1/rightlink.enable.sh">https://rightlink.rightscale.com/rll/10.2.1/rightlink.enable.sh</a><br>To run: Import Linux Base ServerTemplate, launch raw instance, copy key from &#39;settings&gt;API credentials&#39;, SSH into raw instance<br>Run command:<br><code>curl -s https://rightlink.rightscale.com/rll/10.2.1/rightlink.enable.sh &#124; bash -s -- -l -k <q>&#060;your-key&#062;</q> -d <q>&#060;deployment-name&#062;</q> -n <q>&#060;your-server-name&#062;</q> -t <q>RightLink 10.2.1 Linux Base</q> -a <q>us-3.rightscale.com</q> -c <q>&#060;cloud_type&#062;</q></code></td>
</tr>
<tr>
<td>Windows Base ServerTemplate</td>
<td><a href="https://www.rightscale.com/library/server_templates/RightLink-10/lineage/55964">https://www.rightscale.com/library/server_templates/RightLink-10/lineage/55964</a></td>
</tr>
<tr>
<td>Windows Enable-running</td>
<td>Script: <a href="https://rightlink.rightscale.com/rll/10.2.1/rightlink.enable.ps1">https://rightlink.rightscale.com/rll/10.2.1/rightlink.enable.ps1</a><br>To run: Import Windows Base ServerTemplate, launch raw instance, copy key from &#39;settings&gt;API credentials&#39;, Remote Desktop into raw instance<br>Run command:<br><code>$wc = New-Object System.Net.WebClient</code><br><code>$wc.DownloadFile(<q>https://rightlink.rightscale.com/rll/10.2.1/rightlink.enable.ps1</q>, <q>rightlink.enable.ps1</q>);</code><br><code>Powershell -ExecutionPolicy Unrestricted -File rightlink.enable.ps1 -k <q>&#060;your-key&#062;</q> -d <q>&#060;deployment-name&#062;</q> -n <q>&#060;your-server-name&#062;</q> -t <q>RightLink 10.2.1 Linux Base</q> -a <q>us-3.rightscale.com</q> -c <q>&#060;cloud_type&#062;</q></code></td>
</tr>
<tr>
<td>Known Limitations</td>
<td><ul><li>When using install-at-boot or custom images on vSphere/Softlayer on Linux, be aware of <a href="/rl10/reference/rl10_cloud_init_installation.html">cloud-init limitations</a><li><li>Ensure hypervisor timezone matches instance timezone on Windows or time may be misset. If time is off you may not be able to run operational scripts.<li></ul></td>
</tr>
</tbody></table>

<h2 id="rightscale-tested-images">RightScale tested images</h2>

<p>The following images were tested by RightScale and known to work with this version of RightLink 10. This list is not intended as a recommendation of these images, it is simply intended as a reference so you can locate known-to-work images and compare with your own images if you are having difficulties.</p>

<p><q>Known to work</q> means that the following features work: enable a running <q>bare</q> instance using the rightlink.enable.sh or rightlink.enable.ps1 script, reboot the instance, stop and start the instance, create the rightscale user and support managed login (Linux only), install the RightLink 10  init scripts, and install monitoring (collectd on Linux).</p>

<p>Note: except for VMware the tests for this release use official images prepared by the OS vendor or the cloud vendor. In some cases this leads to failures due to problems with the specific images that can easily be overcome using a custom image.</p>

<table><thead>
<tr>
<th>OS</th>
<th>Clouds</th>
<th>Images</th>
<th>Image Provenance</th>
</tr>
</thead><tbody>
<tr>
<td>Ubuntu 14.04</td>
<td>AWS</td>
<td>US-Oregon: ami-ade1d99d</td>
<td><a href="http://cloud-images.ubuntu.com/locator/">Official Ubuntu image locator</a></td>
</tr>
<tr>
<td></td>
<td>OpenStack</td>
<td>ubuntu-14.04-server-cloudimg-amd64-disk1.img</td>
<td><a href="http://cloud-images.ubuntu.com/locator/">Official Ubuntu image locator</a></td>
</tr>
<tr>
<td></td>
<td>Google</td>
<td>ubuntu-1404-trusty-v20150909a</td>
<td><a href="http://cloud-images.ubuntu.com/locator/">Official Ubuntu image locator</a></td>
</tr>
<tr>
<td>Ubuntu 12.04</td>
<td>AWS</td>
<td>US-Oregon: ami-255a6115</td>
<td><a href="http://cloud-images.ubuntu.com/locator/">Official Ubuntu image locator</a></td>
</tr>
<tr>
<td></td>
<td>OpenStack</td>
<td>ubuntu-12.04-server-cloudimg-amd64-disk1.img</td>
<td><a href="http://cloud-images.ubuntu.com/locator/">Official Ubuntu image locator</a></td>
</tr>
<tr>
<td></td>
<td>Google</td>
<td>ubuntu-1204-precise-v20150910</td>
<td><a href="http://cloud-images.ubuntu.com/locator/">Official Ubuntu image locator</a></td>
</tr>
<tr>
<td>CentOS 7</td>
<td>AWS</td>
<td>US-Oregon: ami-c7d092f7</td>
<td><a href="http://cloud.centos.org/">Official CentOS image locator</a></td>
</tr>
<tr>
<td></td>
<td>OpenStack</td>
<td>CentOS-7-x86_64-GenericCloud-1503.qcow2</td>
<td><a href="http://cloud.centos.org/">Official CentOS image locator</a></td>
</tr>
<tr>
<td>CentOS 6</td>
<td>OpenStack</td>
<td>CentOS-6-x86_64-GenericCloud-20141129_01.qcow2</td>
<td><a href="http://cloud.centos.org/">Official CentOS image locator</a></td>
</tr>
<tr>
<td>Windows 2012R2</td>
<td>AWS</td>
<td>US-Oregon: ami-dfccd1ef</td>
<td><a href="http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/AMIs.html#aws-windows-ami">Amazon Windows AMIs</a></td>
</tr>
<tr>
<td>Windows 2012</td>
<td>AWS</td>
<td>US-Oregon: ami-e3c8d5d3</td>
<td><a href="http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/AMIs.html#aws-windows-ami">Amazon Windows AMIs</a></td>
</tr>
<tr>
<td>Windows 2008R2</td>
<td>AWS</td>
<td>US-Oregon: ami-d53c21e5</td>
<td><a href="http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/AMIs.html#aws-windows-ami">Amazon Windows AMIs</a></td>
</tr>
</tbody></table>

<h2 id="how-to">How-To</h2>

<h3 id="how-to-quick-test--linux-only-">Quick Test (Linux Only)</h3>

<ul>
<li>From the marketplace import the <a href="https://www.rightscale.com/library/server_templates/RightLink-10/lineage/53250">RightLink 10.2.1 Linux Base ServerTemplate</a> published by RightScale Engineering.</li>
<li>Create a Server from the ServerTemplate</li>
<li>Select an appropriate MCI and launch, the ST should go operational, you should see an audit entry with the boot scripts, you should be able to SSH into the instance using your <q>managed SSH</q> key and you should be logged in as user &#39;rightscale&#39; from which you can sudo</li>
</ul>

<h3 id="how-to-adapting-the-base-servertemplate">Adapting the Base ServerTemplate</h3>

<ul>
<li>You can clone the base ST and insert a different MCI of your choice, the MCI needs to have the required rs_agent tags (see below)</li>
<li>Alternatively, you can create you own ST using your own MCI</li>
<li><p>Standard MCI tags (see <a href="../reference/rl10_install_at_boot.html">RightLink 10: Cloud-init</a> for additional tags for Linux):</p>

<p><code>rs_agent:type=right_link_lite</code></p>

<p><code>rs_agent:mime_include_url=https://rightlink.rightscale.com/rll/10.2.1/rightlink.boot.sh</code>
<br>(for Install-at-boot on Linux)</p></li>
<li><p>AWS, Softlayer, Openstack Juno, Google, and RCA-V (vSphere) have been tested; Other images on other clouds with a functioning cloud-init should work, but have not been explicitly tested by RightScale (see above).</p></li>
<li><p>The collectd monitoring script only works for Ubuntu and RHEL/CentOS/Compatible OSes and will strand for most other distros as there isn&#39;t code to install collectd for those alternate OSes. The monitoring script was verified with CentOS 6, CentOS 7, Ubuntu 12.04, and 14.04 but should work on other versions as well.</p></li>
</ul>

<h2 id="rightlink-10-is-not-fully-compatible-with-rightlink6">RightLink 10 is Not Fully Compatible with RightLink6</h2>

<ul>
<li>The environment variables available to RightScripts are different, and there are no RS_REBOOT or RS_OS_TYPE variables. Write idempotent scripts using the capabilities of the shell, such as testing for the presence of files. Dispatch based on the presence of tools or file system locations you need instead of a OS type variable.</li>
<li>No rs_tag command, instead RightLink 10 can proxy API 1.5 requests and add authentication along the way</li>
<li>No built-in Chef support</li>
<li>RightScript log output is not sanitized to remove credential values! (Some of them are by the platform but this will change soon.) The sanitization has lots of problems, the only proper solution is for the script writer to ensure sensitive credentials are not output to stdout/stderr!</li>
<li>For a full list of changes see <a href="../reference/rl10_incompatibilities_with_rl6.html">Incompatibilities with RightLink 6</a></li>
</ul>
</div></div></div><div class="col-sm-3 hidden-xs affix-parent"><div class="clearfix" data-clampedwidth=".affix-parent" data-offset-bottom="200" data-offset-top="4" data-spy="affix"><nav class="subnav-right" id="subnav-right" role="sub-nav"><script>createRightHandNav();</script></nav></div></div></div></div></div></div></div><footer class="main-footer" role="contentinfo"><div class="container-fluid max-width"><div class="row"><div class="col-sm-10"><ul class="list-inline"><li><small>&copy; 2024 Flexera</small></li><li><a href="http://www.flexera.com/" target="_blank"><small>Flexera Home</small></a></li><li><a href="https://www.flexera.com/about-us/careers.html" target="_blank"><small>We're Hiring</small></a></li></ul></div></div></div></footer><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-KB9SMN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-KB9SMN');</script><script type="text/javascript">
  // Add clipboard button trigger
  var snippets = document.querySelectorAll('.syntax-highlight');
  [].forEach.call(snippets, function(snippet) {
  snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn snippet-clipboard" data-clipboard-snippet><img src="/img/icon-clipboard.svg"></button>');
  });

  // clipboard trigger
  var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
  target: function(trigger) {
  return trigger.nextElementSibling;
  }
  });

  // Tooltip trigger
  clipboardSnippets.on('success', function(e) {
  e.clearSelection();
  showTooltip(e.trigger, 'Copied!');
  });

  // Error message
  clipboardSnippets.on('error', function(e) {
  showTooltip(e.trigger, fallbackMessage(e.action));
  });

  // Tooltip events
  var btns = document.querySelectorAll('.syntax-highlight .btn');
  for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener('mouseleave', clearTooltip);
  btns[i].addEventListener('blur', clearTooltip);
  }

  function clearTooltip(e) {
  e.currentTarget.setAttribute('class', 'btn');
  e.currentTarget.removeAttribute('aria-label');
  }

  function showTooltip(elem, msg) {
  elem.setAttribute('class', 'btn tooltipped tooltipped-s');
  elem.setAttribute('aria-label', msg);
  }
</script></body></html>